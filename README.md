# Вставка строк и колонок в таблицу
Дана таблица, структура которой представима в виде **«дерева»** (другие таблицы некорректны).

Ниже иллюстрация такой таблицы и пример JSON:

![Пример таблицы](/images/tree-table.png)

```json
{
  "Name": "Table",
  "Children": [
    {
      "VerticalSpan": 1, "Color": "Orange", "Value": "1",
      "Children": [
        {
          "VerticalSpan": 1, "Color": "Green", "Value": "4",
          "Children": [
            {
              "VerticalSpan": 1, "Color": "Purple", "Value": "7",
              "Children": []
            }
          ]
        },
        {
          "VerticalSpan": 1, "Color": "Green", "Value": "5",
          "Children": [
            {
              "VerticalSpan": 1, "Color": "Purple", "Value": "8",
              "Children": []
            }
          ]
        }
      ]
    },
    {
      "VerticalSpan": 1, "Color": "Orange", "Value": "2",
      "Children": [
        {
          "VerticalSpan": 2, "Color": "Green", "Value": "6",
          "Children": []
        }
      ]
    },
    {
      "VerticalSpan": 2, "Color": "Orange", "Value": "3",
      "Children": [
        {
          "VerticalSpan": 1, "Color": "Purple", "Value": "9",
          "Children": []
        },
        {
          "VerticalSpan": 1, "Color": "Purple", "Value": "10",
          "Children": []
        }
      ]
    }
  ]
}
```
## Постановка
Необходимо реализовать вставку колонок/строк в таблицу справа/после указанной.

Следует обратить внимание на то, что некоторые ячейки таблицы могут объединёнными (иметь неединичные спаны). Соответственно, если строка (колонка) вставляется так, что пересекает ячейку с неединичным вертикальным (горизонтальным) спаном, такая ситуация должна быть корректно обработана (то есть, спан должен быть увеличен).

## Требования
1. При реализации нужно воспользоваться структурой данных «дерево»
2. Функции должны работать для любой колонки/строки корректной таблицы
3. **Эксперт.** Реализовать immutable версии функций, которые бы не меняли исходное «дерево». Можно использовать библиотеку immutability-helper или immer.
4. *Опционально.* Работоспособность функций должна быть подтверждена тестами.

## Этапы реализации
Вы можете заниматься реализацией задачи поэтапно -- от простого к сложному:
1. Базовая реализация –- вставка строк и колонок в таблицу, состоящую только из единичных ячеек, то есть спанов в таблице нет совсем
2. Далее реализуйте поддержку для таблиц, имеющих в структуре только один вид спанов (или горизонтальные, или вертикальные)
3. Следующим шагом добавьте работу с таблицами, содержащими оба вида спанов (и горизонтальные, и вертикальные)

Даже если с каким-то этапомвозникнут трудности, присылайте реализованные этапы.

## Инструментарий
Для выполнения данного задания мы подготовили небольшой и очень простой стенд.

Чтобы его запустить Вам нужно выполнить следующие шаги:
```
yarn
```
```
yarn dev
```
```
Открыть index.html
```

**Запрещается** использовать какие-либо сторонние библиотеки, за исключением указанных в задании уровня «эксперт».

## Результат
Результатом выполнения задачи является модифицированный стенд, содержащий реализованные функции. Он должен без ошибок запускаться и выполнять поставленные задачи.

Кроме этого, Вы можете приложить сопутствующую документацию, включающую следующие пункты:

+ Ограничения реализации

Может оказаться так, что Ваша реализация будет покрывать не все возможные случаи. Тогда необходимо описать, при каких входных данных реализация не будет корректно работать.

+ Как можно улучшить реализацию

Вероятно, у Вас будут идеи, каким образом текущая реализация может быть улучшена (оптимизирована по производительности, поправлены ограничения в реализации и т. д.)

## Глоссарий
### Единичная ячейка
Ячейка называется единичной, если она не была получена путём объединения нескольких ячеек
### Некорректная таблица
Таблица некорректна, если её структура непредставима в виде «дерева», например:
![Пример таблицы](/images/incorrect.png)

Такие таблицы в данной задаче не рассматриваются.

### Объединённая ячейка
Ячейка таблицы называется объединённой, если она получена путём объединения нескольких ячеек.

Ячейки могут быть объединены, если они являются соседними и результат их объединения имеет прямоугольную форму (вцелом, как в Microsoft Excel или аналогичных приложениях.)

### Спан
Спан -- от английского span (диапазон, интервал, промежуток) -- это свойство ячейки, онможет быть вертикальным и горизонтальным.

Если ячейка единичная, то её вертикальный и горизонтальный спаны равны единице. Для объединённой ячейки значения спанов соответствуют количеству единичных ячеек по вертикали и горизонтали, из которых была получена эта объединённая ячейка.